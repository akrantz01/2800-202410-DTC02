<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link href="styles/tailwind.css" rel="stylesheet" />

    <!-- Import Flowbite via CDN -->
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/flowbite/2.3.0/flowbite.min.css"
      rel="stylesheet"
    />

    <!-- Import ApexCharts via CDN -->

    <script type="module" src="https://cdn.jsdelivr.net/npm/apexcharts"></script>

    <title>Bias Analysis</title>
    <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png" />
    <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png" />
    <link rel="manifest" href="site.webmanifest" />
    <link rel="mask-icon" href="safari-pinned-tab.svg" color="#5bbad5" />
    <meta name="msapplication-TileColor" content="#da532c" />
    <meta name="theme-color" content="#ffffff" />
  </head>

  <body
    class="font-opensans bg-gradient-to-b bg-no-repeat from-white to-gray-300 items-center container pt-14 min-h-screen md:max-w-7xl mx-auto"
  >
    <header id="header-placeholder"></header>
    <div id="analysis-navigation-placeholder"></div>

    <div
      class="flex flex-col md:flex-row p-4 space-y-5 md:space-y-0 md:space-x-5 md:items-stretch mx-auto h-full"
    >
      <!-- Pie Chart Placeholder -->
      <div
        class="flex-1 flex flex-col items-center justify-center border border-gray-400 bg-white rounded-lg shadow p-5 space-y-5 md:basis-2/5"
      >
        <div class="flex flex-row justify-between space-y-1 w-full">
          <!-- Graph Heading -->
          <div class="flex flex-col space-y-2">
            <h2 class="text-2xl font-bold leading-none text-gray-600 me-1">Bias Type Breakdown</h2>
            <h5 class="text-sm font-light leading-none text-gray-400 me-1">Subheading</h5>
          </div>
          <!-- Data Popout -->
          <div>
            <svg
              data-popover-target="chart-info"
              data-popover-placement="bottom"
              class="w-3.5 h-3.5 text-gray-500 cursor-pointer ms-1"
              aria-hidden="true"
              xmlns="http://www.w3.org/2000/svg"
              fill="currentColor"
              viewBox="0 0 20 20"
            >
              <path
                d="M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5Zm0 16a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm1-5.034V12a1 1 0 0 1-2 0v-1.418a1 1 0 0 1 1.038-.999 1.436 1.436 0 0 0 1.488-1.441 1.501 1.501 0 1 0-3-.116.986.986 0 0 1-1.037.961 1 1 0 0 1-.96-1.037A3.5 3.5 0 1 1 11 11.466Z"
              />
            </svg>
            <div
              data-popover
              id="chart-info"
              role="tooltip"
              class="absolute z-10 invisible inline-block text-sm text-gray-500 transition-opacity duration-300 bg-white border border-gray-200 rounded-lg shadow-sm opacity-0 w-72"
            >
              <div class="p-3 space-y-2">
                <h3 class="font-semibold text-gray-900">Language Bias</h3>
                <p>
                  The language bias score is a breakdown of the type of language used in the text to
                  describe key words and entities. A higher score means the author used stronger
                  (positive or negative) language to describe the entities.
                </p>
                <h3 class="font-semibold text-gray-900">Gender Bias</h3>
                <p>
                  The count of distinct pronouns is compared to determine if the author biased their
                  writing to a particular gender.
                </p>
                <h3 class="font-semibold text-gray-900">Opinion Bias</h3>
                <p>
                  Opinion bias shows how much of the article uses opionion style language, instead
                  of neutral writing styles.
                </p>
                <a
                  href="/learn"
                  class="flex items-center font-medium text-blue-600 hover:text-blue-700 hover:underline"
                  >Read more
                  <svg
                    class="w-2 h-2 ms-1.5 rtl:rotate-180"
                    aria-hidden="true"
                    xmlns="http://www.w3.org/2000/svg"
                    fill="none"
                    viewBox="0 0 6 10"
                  >
                    <path
                      stroke="currentColor"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="m1 9 4-4-4-4"
                    />
                  </svg>
                </a>
              </div>
              <!-- <div data-popper-arrow></div> -->
            </div>
          </div>
        </div>

        <!-- Pie Chart -->
        <div id="pie-chart" class="flex-1 w-full h-full flex items-center justify-center"></div>
      </div>

      <!-- Bias Description & Scores -->
      <div class="flex-1 flex flex-col space-y-2 md:basis-3/5">
        <div
          id="bias-description"
          class="border border-gray-400 rounded-lg bg-white p-4 px-6 text-left space-y-2 flex-grow flex-shrink-0"
        >
          <h2 class="text-2xl text-gray-600 font-semibold">Bias Analysis</h2>
          <p class="text-md text-gray-500">
            Bias can take on many different shapes and forms which can change depending on the
            context. In the context of written content, such as journalism, academic articles, or
            social media, bias refers to an author’s tendency to favor or be prejudiced against
            something they are writing about. This may involve the author’s personal opinions or
            feelings towards a particular subject, that could potentially create an unfair
            perspective for the reader.
          </p>
        </div>
        <!-- Bias Scores -->
        <div
          class="border border-gray-400 rounded-lg bg-white p-4 px-6 text-left space-y-2 flex-grow flex-shrink-0 flex flex-col"
        >
          <div id="overall-bias" class="text-center">
            <h1 class="font-xl">Overall Bias Score</h1>
            <label class="text-slate-600" id="overall-bias-gauge">Overall Bias</label>
            <div class="w-full bg-gray-200 rounded-full h-2.5 flex">
              <div
                class="overall-gauge bg-primary h-2.5 rounded-full"
                style="width: 98%"
                name="overall-bias-gauge"
              ></div>
            </div>
          </div>

          <div id="opinion-bias" class="text-center">
            <h1 class="font-xl">Opinion Bias Score</h1>
            <label class="text-slate-600" id="opinion-bias-gauge">Opinion Bias</label>
            <div class="w-full bg-gray-200 rounded-full h-2.5 flex">
              <div
                class="opinion-gauge bg-primary h-2.5 rounded-full"
                style="width: 98%"
                name="opinion-bias-gauge"
              ></div>
            </div>
          </div>

          <div id="gender-bias" class="text-center">
            <h1 class="font-xl">Gender Bias Score</h1>
            <label class="text-slate-600" id="gender-bias-gauge">gender Bias</label>
            <div class="w-full bg-gray-200 rounded-full h-2.5 flex">
              <div
                class="gender-gauge bg-primary h-2.5 rounded-full"
                style="width: 98%"
                name="gender-bias-gauge"
              ></div>
            </div>
            <p id="gender-breakdown" class="block">text</p>
          </div>

          <div id="language-bias" class="text-center">
            <h1 class="font-xl">Language Bias Score</h1>
            <label class="text-slate-600" id="language-bias-gauge">language Bias</label>
            <div class="w-full bg-gray-200 rounded-full h-2.5 flex">
              <div
                class="language-gauge bg-primary h-2.5 rounded-full"
                style="width: 98%"
                name="language-bias-gauge"
              ></div>
            </div>
          </div>

          <div id="language-bias-direction" class="text-center">
            <h1 class="font-xl">Language Bias Direction</h1>
            <label class="text-slate-600" id="language-bias-direction-gauge">language Bias</label>
            <div class="w-full bg-gray-200 rounded-full h-2.5 relative">
              <div
                class="language-direction-gauge bg-primary h-2.5 rounded-full absolute left-1/2"
                style="width: 50%"
                name="language-bias-direction-gauge"
              ></div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Bias Types -->
    <div id="bias-type-cards" class="flex flex-col space-y-2 p-4 mb-20">
      <div class="flex flex-row space-x-2 py-2 flex-wrap text-md text-gray-800 font-semibold">
        <img src="images/logo.svg" width="32" height="32" alt="VeritasAI" />
        <p>VeritasAI Bias Results</p>
      </div>

      <!-- Bias Cards Go Here -->
      <div id="bias-cards" class="mt-2 space-y-2"></div>

      <!-- Bias Card Template -->
      <template id="bias-card">
        <div
          class="group flex flex-col border border-gray-400 overflow-hidden rounded-lg bg-white p-4 text-black"
          tabindex="1"
        >
          <div class="flex cursor-pointer justify-between items-end text-lg">
            <span class="keyword"> Confirmation Bias </span>
            <svg
              xmlns="http://www.w3.org/2000/svg"
              class="icon icon-tabler icon-tabler-chevron-down transition-all duration-500 group-focus:-rotate-180"
              width="24"
              height="24"
              viewBox="0 0 24 24"
              stroke-width="1.5"
              stroke="#000000"
              fill="none"
              stroke-linecap="round"
              stroke-linejoin="round"
            >
              <path stroke="none" d="M0 0h24v24H0z" fill="none" />
              <path d="M6 9l6 6l6 -6" />
            </svg>
          </div>
          <div id="sentence-template">
            <div
              class="invisible space-y-4 text-left h-auto max-h-0 items-center opacity-0 transition-all group-focus:visible group-focus:max-h-screen group-focus:opacity-100 group-focus:duration-1000"
            >
              <!-- Input analyzed data here -->
              <div class="group-focus:mt-4 border border-gray-400 rounded-lg">
                <div
                  class="flex flex-row space-x-2 flex-wrap text-md font-semibold bg-[#EDE9E9] border-b border-gray-300 shadow rounded-t-lg p-4"
                >
                  <img src="images/logo.svg" width="32" height="32" alt="VeritasAI" />
                  <p>VeritasAI Response</p>
                </div>
                <!-- Input analysis output here -->
                <p class="p-4 response">
                  Lorem ipsum dolor sit,
                  <a href="#" class="text-blue-400 underline">confirmation bias</a> adipisicing
                  elit. Libero corporis beatae accusantium minus rerum, laboriosam quibusdam, cum
                  nobis ducimus fuga officiis illo vitae consectetur eaque totam delectus. Animi,
                  non laudantium.
                </p>
              </div>
              <a
                href="#"
                class="inline-flex mx-0.5 font-medium items-center text-blue-400 hover:underline"
              >
                Learn More
                <svg
                  class="w-3 h-3 ms-2.5 rtl:rotate-[270deg]"
                  aria-hidden="true"
                  xmlns="http://www.w3.org/2000/svg"
                  fill="none"
                  viewBox="0 0 18 18"
                >
                  <path
                    stroke="currentColor"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M15 11v4.833A1.166 1.166 0 0 1 13.833 17H2.167A1.167 1.167 0 0 1 1 15.833V4.167A1.166 1.166 0 0 1 2.167 3h4.618m4.447-2H17v5.768M9.111 8.889l7.778-7.778"
                  />
                </svg>
              </a>
            </div>
          </div>
        </div>
      </template>
    </div>

    <footer id="footer-placeholder"></footer>

    <script type="module" src="scripts/nav-bar-logic.js"></script>
    <script type="module" src="scripts/analysis-navigation.js"></script>
    <script
      type="module"
      src="https://cdnjs.cloudflare.com/ajax/libs/flowbite/2.3.0/flowbite.min.js"
    ></script>
    <script type="module" src="scripts/bias.js"></script>
  </body>
</html>
